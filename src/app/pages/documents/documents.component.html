<app-nav-bar></app-nav-bar>
<div class="body">

  <main role="main" class="container">

    <div class="row">
      <div class="col-md-8">
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home"
              aria-selected="true">Document Partagé</a>
            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile"
              aria-selected="false">Document Privé</a>
            <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact"
              aria-selected="false">Créer un Document</a>
          </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
            <div class="my-3 p-3 bg-white rounded box-shadow">

              <div class="table-responsive">
                <table class="table table-sm">
                  <tr>
                    <th>#</th>
                    <th>Nom Document</th>
                    <th>Document</th>

                    <th>action</th>
                  </tr>
                  <tr *ngFor="let doc of documents; let i = index">
                    <td>#{{i+1}}</td>
                    <td>{{ doc.nomDocument }}</td>
                    <td>{{ doc.file }}</td>


                    <td>
                        <button type="button" class="btn btn-sm btn-default" (click)="detailDoc(doc)"><i class="far fa-eye"></i></button>

                      <button class="btn btn-sm btn-default" (click)="onDownloadFile(doc)">
                        <i class="fas fa-cloud-download-alt"></i>
                      </button>
                      <button type="button" class="btn btn-sm btn-default" (click)="onDeleteTask(task)">
                        <i class="far fa-trash-alt"></i>

                      </button>
                    </td>
                  </tr>
                </table>
              </div>



            </div>
          </div>
          <!-- liste de Doc partage -->
          <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">

          </div>
          <!-- liste de Doc prive -->

          <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
            <form novalidate #fo="ngForm" class="form-signin" (ngSubmit)="savedocument(fo)">
              <div class="alert alert-danger" *ngIf="nomDocument.errors?.required && typeDocument.touched ">
                * Veuillez saisir le nom de document
              </div>
              <div class="alert alert-danger" *ngIf="typeDocument.errors?.required && description.touched ">
                * Veuillez saisir le type de document
              </div>
             <span class="badge badge-info"> Note </span> Le Document qui vous voulez Ajouter ca sera partagé pour tous les Utilisateur (Public)  :
              <div class="form-check">
                  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                  <label class="form-check-label" for="exampleRadios1">
                    Oui
                  </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                    <label class="form-check-label" for="exampleRadios1">
                      Non
                    </label>
                  </div>
              <div class="form-row">
                  <div class="form-group col-md-6"> Nom du Document :
                      <div class="form-label-group">
                        <input placeholder="Nom du document" [(ngModel)]="document.nomDocument" #nomDocument="ngModel" type="text" name="nomDocument" class="form-control" required>
      
                      </div>
                    </div>
                    <div class="form-group col-md-6"> Type de document :
                      <div class="form-label-group">
                        <input placeholder="Type du document" type="text" name="type" class="form-control" [(ngModel)]="document.typeDocument" #typeDocument="ngModel" required>
      
                      </div>
                    </div>
              </div>
            



              <div class="form-group">
                <div class="form-label-group"> Déscription :
                  <textarea placeholder="Description" name="description" [(ngModel)]="document.description" #description="ngModel" class="form-control"> </textarea>

                </div>
              </div>
               
                <div class="form-group" style="text-align:center">
                  <label>
                    <input name="file" [(ngModel)]="document.file" #file="ngModel"  class="form-control" type="file" (change)="selectFile($event)">
                  </label>
                  <button [disabled]="!selectedFiles" class="btn btn-default" (click)="upload()">Upload</button>
                </div>
              



              <button [disabled]="!fo.form.valid" type="submit" class="btn-md  btn btn-default">Créer</button>


            </form>
          </div>
          <!-- nouveaux Doc -->
        </div>


      </div>
      <!-- col-md-8-->
      <div class="col-md-4">
        <div class="card border-light mb-3" style="max-width: 18rem;">
          <div class="card-header">#Document</div>
          <div class="card-body">

            <p class="card-text lh-125 border-bottom border-gray" *ngFor="let docs of documents">
              <span>

                {{ docs.dateCreation | date : 'dd-MM-yyyy HH:mm ' }} : {{ docs.file }}
              </span>
            </p>
          </div>
        </div>
      </div>
      <!-- col-md-4 -->
    </div>
    <!-- row -->
  </main>




  <!--  <div class="col-md-3 col-xs-12">

            <div class="my-3 p-3 bg-white rounded box-shadow ">
                <button class="btn btn-md btn-outline-primary btn-block" data-toggle="modal" data-target="#exampleModal" type="button">Ajouter un Document </button>
                
           
                
                
                
           
                <div class="media text-muted pt-3">
                  <p class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
                   <strong class="d-block text-gray-dark">@Documents </strong>
                   <span *ngFor="let docs of documents">
                     <span class="badge badge-success"> {{ docs.dateCreation | date : 'dd-MM-yyyy ' }}</span><span>  : {{ docs.file }} 
                       
                </span><br>
                </span>
               
                
                
                 
                    
                  </p>
                 
               </div>

              
                <div class="media text-muted pt-3" >
              
                   
                    <p></p>
                 
                </div>
                 
                <small class="d-block text-right mt-3">
                  <a href="#" > Notification </a>
                </small>
              </div>
          
         </div>

         <div class="col-md-9 col-xs-12">
            <div class="my-3 p-3 bg-white rounded box-shadow">
                <h6 class="border-bottom border-gray pb-2 mb-0">Listes des Documents</h6>
                <div class="media text-muted pt-3">
                  <img data-src="holder.js/32x32?theme=thumb&bg=007bff&fg=007bff&size=1" alt="" class="mr-2 rounded">
                  <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
                    <div class="d-flex justify-content-between align-items-center w-100">
                       <table class="table table-sm ">
                        <tr>

                          <th>Nom Document</th>
                          <th>Type</th>
                          <th>Description</th>
                          <th>Document</th>
                          <th colspan="3">Action</th>
                        </tr>

                       <tr *ngFor="let doc of documents ">
                        <td>{{ doc.nomDocument }}</td>
                        <td>{{ doc.typeDocument }}</td>
                        <td>{{ doc.description }}</td>
                        <td>{{ doc.file }}</td>
                        
                        <td><button class="btn btn-sm btn-primary" (click)="onDownloadFile(doc)" ><i class="fas fa-cloud-download-alt"></i> </button></td>
                        <td><button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button> </td>
                         
                      </tr>

                       </table>
                      
                    </div>
                  
                  </div>
                </div>
         
        
                <small class="d-block text-right mt-3">
                  <a href="#">All suggestions</a>
                </small>
              </div>
         </div> -->